---
layout: post
title:  "Les principales commandes de Docker"
date:   2022-09-26 18:05:55 +0300
image:  09.png
tags:   Docker
---

Vous trouverez dans ce post les principales commandes pour utiliser Docker


![docker](/images/10.png "Docker")

### Docker Hub

ğŸ’¡ UneÂ **registry**Â est un logiciel qui permet de partager des images Ã  d'autres personnes. Câ€™est un composant majeur dans lâ€™Ã©cosystÃ¨me Docker, car il permet :
- Ã  desÂ **dÃ©veloppeurs**Â deÂ **distribuer des images**Â prÃªtes Ã  lâ€™emploi et de lesÂ **versionner**Â avec un systÃ¨me de tags ;
- Ã  desÂ **outils**Â dâ€™intÃ©gration en continu de jouer une suite deÂ **tests**, sans avoir besoin dâ€™autre chose que de Docker ;
- Ã  desÂ **systÃ¨mes automatisÃ©s**Â deÂ **dÃ©ployer ces applications**Â sur vos environnement de dÃ©veloppement et de production.


Les commandes importantes :

- dÃ©marrage d'un conteneur avec unÂ `docker run`Â ;
- utilisation des argumentsÂ `d`Â etÂ `p`Â lors du dÃ©marrage d'un conteneur ;
- rÃ©cupÃ©rationÂ d'une image depuis une registry avec la commandeÂ `docker pull`Â ;
- nettoyageÂ du systÃ¨me avecÂ `docker system prune`

Pour crÃ©er une image Docker, vous savez utiliser les instructions suivantes :

- `FROM`Â qui vous permet de dÃ©finir l'imageÂ **source**Â ;
- `RUN`Â qui vous permet dâ€™exÃ©cuter desÂ **commandes**Â dans votre conteneur ;
- `ADD`Â qui vous permetÂ **d'ajouter des fichiers**Â dans votre conteneur ;
- `WORKDIR`Â qui vous permet de dÃ©finir votreÂ **rÃ©pertoire de travail**Â ;
- `EXPOSE`Â qui permet de dÃ©finir lesÂ **ports d'Ã©coute**Â par dÃ©faut ;
- `VOLUME`Â qui permet de dÃ©finir lesÂ **volumes utilisables**Â ;
- `CMD`Â qui permet de dÃ©finir laÂ **commande par dÃ©faut**Â lors de lâ€™exÃ©cution de vos conteneurs Docker.

### Docker compose

Pour utiliser le CLI (Command Line Interface) de Docker Compose, il faut un fichier `docker-compose.yml`

Les commandes les plus importantes : 

- `docker-compose up -d` â†’ **dÃ©marrer**Â l'ensemble des conteneurs en arriÃ¨re-plan ;
- `docker-compose up` â†’ **dÃ©marrer**Â l'ensemble des conteneurs et voir les erreurs si il y en a ;
- `docker-compose up -d --build` â†’ **crÃ©er**Â l'ensemble des conteneurs en arriÃ¨re-plan ;
- `docker-compose ps`Â â†’ voir leÂ **status**Â de l'ensemble de votre stack ;
- `docker-compose logs -f --tail 5`Â  â†’ afficher lesÂ **logs**Â de votre stack ;
- `docker-compose stop`Â  â†’ **arrÃªter**Â l'ensemble des services d'une stack ;
- `docker-compose down`Â â†’ **dÃ©truire**Â l'ensemble des ressources d'une stack ;
- `docker-compose config`Â â†’Â **valider**Â la syntaxe du fichierÂ `docker-compose.yml`.

Les arguments importants Ã  connaitre & Ã  mettre dans le fichier `docker-compose.yml` : 

- `image`Â â†’ spÃ©cifier l'**image source**Â pour le conteneur ;
- `build`Â â†’  spÃ©cifier leÂ **Dockerfile source**Â pour crÃ©er l'image du conteneurÂ ;
- `volume`Â â†’ spÃ©cifier lesÂ **points de montage**Â entre le systÃ¨me hÃ´te et les conteneursÂ ;
- `restart`Â â†’ dÃ©finir le comportement du conteneurÂ **en cas d'arrÃªt**Â du processusÂ ;
- `environment`Â â†’ dÃ©finir lesÂ **variables dâ€™environnement**Â ;
- `depends_on`Â â†’ dire que le conteneurÂ **dÃ©pend**Â d'un autre conteneurÂ ;
- `ports`Â â†’ dÃ©finir lesÂ **ports**Â disponibles entre la machine host et le conteneur.